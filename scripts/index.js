var index;(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e);const n={w2:"https://static.tildacdn.com/tild6562-3336-4762-b938-396434376631/2w.png",b2:"https://static.tildacdn.com/tild3530-3466-4439-b336-366364633138/2b.png",t2:"https://static.tildacdn.com/tild3366-6464-4839-b133-386235333130/2t.png",w2p5:"https://static.tildacdn.com/tild3563-6138-4135-b232-326662316665/2p5w.png",b2p5:"https://static.tildacdn.com/tild3362-3237-4665-b835-366536386635/2p5b.png",t2p5:"https://static.tildacdn.com/tild3165-3164-4133-a661-363832643030/2p5t.png",w4:"https://static.tildacdn.com/tild3061-6534-4331-a265-616439313230/4w.png",b4:"https://static.tildacdn.com/tild3531-3537-4830-a433-336164386562/4b.png",t4:"https://static.tildacdn.com/tild3366-6231-4132-b735-333863373938/4t.png",w5:"https://static.tildacdn.com/tild6431-6337-4464-b636-383632646465/5w.png",b5:"https://static.tildacdn.com/tild6462-3633-4332-a432-373665396463/5b.png",t5:"https://static.tildacdn.com/tild3933-3636-4338-b133-653434636433/5t.png",b10:"https://static.tildacdn.com/tild6432-6461-4433-a139-306566376366/10b.png",t10:"https://static.tildacdn.com/tild3231-6336-4166-a233-623437356434/10t.png",w10:"https://static.tildacdn.com/tild6132-3635-4661-a532-333163386534/10w.png",w15:"https://static.tildacdn.com/tild6362-6564-4237-b162-303034633536/15w.png",b15:"https://static.tildacdn.com/tild3531-3933-4537-a536-633263366661/15b.png",t15:"https://static.tildacdn.com/tild6662-3731-4263-a139-383463343033/15t.png",w20:"https://static.tildacdn.com/tild3966-6162-4637-a363-663839343335/20w.png",b20:"https://static.tildacdn.com/tild3738-6631-4435-b832-303364623266/20b.png",t20:"https://static.tildacdn.com/tild3961-6664-4364-b539-663062616239/20t.png",w50:"https://static.tildacdn.com/tild6135-3533-4637-b766-633638613731/50w.png",b50:"https://static.tildacdn.com/tild3364-3561-4037-b536-663066386233/50b.png",t50:"https://static.tildacdn.com/tild3936-6461-4463-a462-386535313431/50t.png"};const c={w2:4,b2:4,t2:4,w2p5:4,b2p5:4,t2p5:4,w4:4,b4:4,t4:4,w5:5,b5:5,t5:5,w10:8,b10:8,t10:8,w15:8,b15:8,t15:8,w20:9,b20:9,t20:9,w50:10,b50:10,t50:10};var i=document.querySelector(".btr-form"),a=document.querySelector(".btr-imagebox__image"),o=Array.from(i.querySelectorAll('input[data-t="field:input-color"]')),r=i.querySelector("#size"),d=Array.from(i.querySelectorAll('input[data-t="field:input-amount"]')),l=i.querySelector('input[data-t="field:input-cassetsamount"]'),u=i.querySelector("#cassetsamount_caption"),s=i.querySelector(".btr-form__submit"),p=i.querySelector(".btr-form__price"),m=i.querySelector("input[data-t='field:input-proizvodstvo']");const b={CALC:i,IMG:a,COLOR_RADIOS:o,SIZE_SELECT:r,AMOUNT_CAPTION:u,AMOUNT_CASSETS:l,AMOUNT_RADIOS:d,SUBMIT:s,PRICE:p,UPAKOVKA:m};function S(t,e){!function(t){t.forEach((function(t){t.removeAttribute("disabled"),t.parentNode.nextSibling.style.opacity=1}))}(e),e.filter((function(e){return t.indexOf(e.id)>=0})).forEach((function(t){t.setAttribute("disabled",!0),t.parentNode.nextSibling.style.opacity=.3,t.checked&&(t.checked=!1)}))}function g(t,e){var n=t.size,c=e.AMOUNT_RADIOS;switch("".concat(n)){case"2":case"4":S(["amount2","amount3"],c);break;case"2p5":case"5":case"20":S(["amount1","amount2","amount3"],c);break;case"10":case"15":S(["amount1","amount2","amount5"],c);break;case"50":S(["amount3","amount5"],c)}}function f(t){t.totalAmount=t.cassetAmount*t.casset}function A(t,e){var n=t.cassetAmount,c=t.casset,i=t.totalAmount;e.AMOUNT_CAPTION.textContent="".concat(n," кассет * ").concat(c," шт в кассете = ").concat(i," ампул")}function h(t,e){var n,c,i,a="Без упаковки"!==t.packing?t.casset*t.price*t.cassetAmount:0;t.totalPrice=t.totalAmount*t.price+a,n=e,i=t.totalPrice,n.PRICE.textContent="".concat(((c=i.toString().split("."))[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),c.join("."))," ₽")}function v(t,e,n){t.casset=e,f(t),A(t,n),h(t,n)}function y(t,e){console.log(e),console.log(t.imgName),t.price=e[t.imgName]}function O(t,e){var n=t.imgSrc;e.IMG.src=n}const E={color:"",size:0,imgName:"",imgSrc:"",casset:0,cassetAmount:0,totalAmount:0,price:0,packPrice:0,totalPackPrice:0,packing:"Без упаковки",totalPrice:0};var _,w,T,I,N=document.querySelector('input[type="hidden"][name="color"]'),C=document.querySelector('input[type="hidden"][name="size"]'),P=document.querySelector('input[type="hidden"][name="casset"]'),k=document.querySelector('input[type="hidden"][name="amount_casset"]'),q=document.querySelector('input[type="hidden"][name="total_amount"]'),L=document.querySelector('input[type="hidden"][name="packing"]'),M=document.querySelector('input[type="hidden"][name="total_price"]'),R=["COLOR_RADIOS"],U=["AMOUNT_RADIOS"],x=["AMOUNT_CASSETS"],z=["UPAKOVKA"];function D(t,e){if(null==t)return{};var n,c,i=function(t,e){if(null==t)return{};var n,c,i={},a=Object.keys(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}T=n,I=c,(_=E).color=(w=b).COLOR_RADIOS.find((function(t){return t.checked})).value,_.size=+w.SIZE_SELECT.value,_.imgName=_.color[0]+_.size,_.imgSrc=T[_.imgName],y(_,I),O(_,w),g(_,w),function(t,e,n,c){(function(t,e,n){var c=n.COLOR_RADIOS,i=D(n,R);c.forEach((function(n){n.addEventListener("change",(function(){t.color=n.value,t.imgName=t.color[0]+t.size,t.imgSrc=e[t.imgName],O(t,i)}))}))})(t,n,e),function(t,e,n,c){n.SIZE_SELECT.addEventListener("change",(function(){if(n.SIZE_SELECT.value){var i="2.5"===n.SIZE_SELECT.value?"2p5":+n.SIZE_SELECT.value;t.size=i,t.imgName=t.color[0]+i,t.imgSrc=e[t.imgName],g(t,n),n.AMOUNT_RADIOS.find((function(t){return t.checked}))||v(t,0,n),O(t,n),y(t,c),h(t,n)}}))}(t,n,e,c),function(t,e){var n=e.AMOUNT_RADIOS,c=D(e,U);n.forEach((function(e){e.addEventListener("change",(function(){v(t,+e.value,c)}))}))}(t,e),function(t,e){var n=e.AMOUNT_CASSETS,c=D(e,x);n.addEventListener("input",(function(){t.cassetAmount=+n.value,f(t),A(t,c),h(t,c)}))}(t,e),function(t,e){var n=e.UPAKOVKA,c=D(e,z);n.addEventListener("change",(function(){t.packing=n.checked?"Упаковать в товарный вид":"Без упаковки",h(t,c)}))}(t,e),function(t,e){var n=e.SUBMIT;n.addEventListener("click",(function(e){N.value=t.color,C.value=t.size,P.value=t.casset,k.value=t.cassetAmount,q.value=t.totalAmount,L.value=t.packing,M.value=t.totalPrice}))}(t,e)}(_,w,T,I),index=e})();